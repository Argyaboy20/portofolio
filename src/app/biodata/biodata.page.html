<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      <a routerLink="/" class="blog-title">
        <span class="primary-text">Maulana Farras</span><span class="secondary-text"> Blog's</span>
      </a>
    </ion-title>
    <ion-buttons slot="end" class="language-button">
      <ion-button (click)="toggleLanguage()">
        {{ currentLanguage === 'id' ? 'EN' : 'ID' }}
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end" class="gallery-button">
      <ion-button routerLink="/galeri-kehidupan">Galeri Kehidupan</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="biodata-content" [scrollEvents]="true">
  <!-- Hero Section dengan Background Animasi -->
  <div class="hero-section">
    <div class="hero-content animate-on-scroll">
      <div class="animated-circle circle-1"></div>
      <div class="animated-circle circle-2"></div>
      <div class="animated-circle circle-3"></div>
      <h1 class="hero-title">{{ getText('heroTitle') }} <span class="gradient-text">Maulana Farras</span></h1>
      <p class="hero-subtitle">{{ getText('heroSubtitle') }}</p>
    </div>
  </div>

  <!-- Timeline Section -->
  <section class="timeline-section">
    <h2 class="section-title animate-on-scroll">{{ getText('journey') }}</h2>
    <div class="timeline">
      <!-- Update Mobile App timeline item with translations -->
      <div class="timeline-item animate-on-scroll">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>2025 - {{ currentLanguage === 'id' ? 'Sekarang' : 'Present' }}</h3>
          <h4>{{ getText('currentRole') }}</h4>
          <p>{{ getText('currentDesc') }}</p>
        </div>
      </div>
      <!-- Update Web Developer timeline item with translations -->
      <div class="timeline-item animate-on-scroll">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>2024 - {{ currentLanguage === 'id' ? 'Sekarang' : 'Present' }}</h3>
          <h4>{{ getText('webRole') }}</h4>
          <p>{{ getText('webDesc') }}</p>
        </div>
      </div>
      <!-- Update PMM timeline item with translations -->
      <div class="timeline-item animate-on-scroll">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>{{ currentLanguage === 'id' ? 'Feb - Jun 2024' : 'Feb - Jun 2024' }}</h3>
          <h4>{{ getText('pmmRole') }}</h4>
          <p>{{ getText('pmmDesc') }}</p>
        </div>
      </div>
      <!-- Update Pelatih Robotik timeline item with translations -->
      <div class="timeline-item animate-on-scroll">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>{{ currentLanguage === 'id' ? 'Mei - Agustus 2023' : 'May - August 2023' }}</h3>
          <h4>{{ getText('roboticsRole') }}</h4>
          <p>{{ getText('roboticsDesc') }}</p>
        </div>
      </div>
      <!-- Update Pilmapres timeline item with translations -->
      <div class="timeline-item animate-on-scroll">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>{{ currentLanguage === 'id' ? 'Mei 2023' : 'May 2023' }}</h3>
          <h4>{{ getText('pilmapresRole') }}</h4>
          <p>{{ getText('pilmapresDesc') }}</p>
        </div>
      </div>

      <!-- Update education timeline item with translations -->
      <div class="timeline-item animate-on-scroll">
        <div class="timeline-dot"></div>
        <div class="timeline-content">
          <h3>{{ currentLanguage === 'id' ? 'Agustus 2022 - Sekarang' : 'August 2022 - Present' }}</h3>
          <h4>{{ getText('education') }}</h4>
          <p>{{ getText('eduDesc') }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Hobies & Interest Section -->
  <section class="hobbies-section">
    <h2 class="section-title animate-on-scroll">{{ getText('hobbiesTitle') }}</h2>
    <div class="hobbies-grid">
      <div class="hobby-card animate-on-scroll" data-delay="1">
        <div class="hobby-icon">
          <ion-icon name="code-slash-outline"></ion-icon>
        </div>
        <h3>Coding</h3>
        <p>{{ getText('codingDesc') }}</p>
      </div>

      <div class="hobby-card animate-on-scroll" data-delay="2">
        <div class="hobby-icon">
          <ion-icon name="game-controller-outline"></ion-icon>
        </div>
        <h3>Gaming</h3>
        <p>{{ getText('gamingDesc') }}</p>
      </div>

      <div class="hobby-card animate-on-scroll" data-delay="3">
        <div class="hobby-icon">
          <ion-icon name="headset-outline"></ion-icon>
        </div>
        <h3>Music</h3>
        <p>{{ getText('musicDesc') }}</p>
      </div>

      <div class="hobby-card animate-on-scroll" data-delay="4">
        <div class="hobby-icon">
          <ion-icon name="barbell-outline"></ion-icon>
        </div>
        <h3>Exercise</h3>
        <p>{{ getText('exerciseDesc') }}</p>
      </div>

    </div>
  </section>

  <!-- Quick Facts Section -->
  <section class="facts-section">
    <h2 class="section-title animate-on-scroll">{{ getText('quickFacts') }}</h2>
    <div class="facts-container">
      <div class="fact-item animate-on-scroll" data-delay="1">
        <div class="fact-number">3+</div>
        <div class="fact-label">{{ getText('projectsCompleted') }}</div>
      </div>
      <div class="fact-item animate-on-scroll" data-delay="2">
        <div class="fact-number">1+</div>
        <div class="fact-label">{{ getText('yearsCoding') }}</div>
      </div>
      <div class="fact-item animate-on-scroll" data-delay="3">
        <div class="fact-number">5+</div>
        <div class="fact-label">{{ getText('techStacks') }}</div>
      </div>
      <div class="fact-item animate-on-scroll" data-delay="4">
        <div class="fact-number">âˆž</div>
        <div class="fact-label">{{ getText('coffeeCups') }}</div>
      </div>
    </div>
  </section>

  <!-- Quotes Section -->
  <section class="quotes-section">
    <div class="quote-container animate-on-scroll">
      <ion-icon name="quote-outline" class="quote-icon"></ion-icon>
      <blockquote>
        "Programming isn't about what you know, it's about what you can figure out."
      </blockquote>
      <cite>- Chris Pine, Author of "Learn to Program"</cite>
    </div>
  </section>

  <!-- Award Section -->
  <section class="awards-section">
    <h2 class="section-title animate-on-scroll">{{ getText('awardsTitle') }}</h2>
    <div class="awards-grid">
      <div class="awards-item" (click)="openAwardsModal()">
        <div class="awards-preview">
          <img src="/assets/awards.png" style="object-fit: contain;" alt="Awards collection">
          <div class="awards-count">{{awardsCount}}</div>
        </div>
        <div class="awards-overlay">
          <span>View All Awards</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Gallery Section - A few personal photos -->
  <section class="gallery-section">
    <h2 class="section-title animate-on-scroll">{{ getText('snapshots') }}</h2>
    <div class="gallery-grid">
      <!-- Fixed Gallery Items -->
      <div class="gallery-item animate-on-scroll" data-delay="1" (click)="openGalleryModal('/assets/coding.png')">
        <img src="/assets/coding.png" alt="Working on project">
        <div class="gallery-overlay">
          <span>Coding Session</span>
        </div>
      </div>

      <div class="gallery-item animate-on-scroll" data-delay="2" (click)="openGalleryModal('/assets/team.jpg')">
        <img src="/assets/team.jpg" alt="Team building">
        <div class="gallery-overlay">
          <span>Team Building</span>
        </div>
      </div>

      <div class="gallery-item animate-on-scroll" data-delay="3" (click)="openGalleryModal('/assets/pmm.jpg')">
        <img src="/assets/pmm.jpg" alt="Traveling">
        <div class="gallery-overlay">
          <span>PMM's Story</span>
        </div>
      </div>

      <div class="gallery-item animate-on-scroll" data-delay="4" (click)="openGalleryModal('/assets/konser.jpg')">
        <img src="/assets/konser.jpg" alt="Hobby">
        <div class="gallery-overlay">
          <span>Music Festival</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Rotating Gallery Section -->
  <section class="rotating-gallery-section">
    <h2 class="section-title animate-on-scroll">{{ getText('connect') }}</h2>
    <div class="rotating-gallery-container">
      <div class="rotating-gallery animate-on-scroll fade-in-up">
        <div class="photo-container">
          <img [src]="currentRotatingPhoto" alt="Rotating gallery image" class="rotating-photo">
          <div class="photo-caption">{{ currentPhotoCaption }}</div>
          <div class="photo-progress">
            <div class="progress-bar" [style.width.%]="photoProgressPercentage"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Info Footer Section -->
  <section class="contact-footer-section">
    <div class="contact-footer-container">
      <h3 class="contact-footer-title animate-on-scroll">{{ getText('otherWays') }}</h3>
      <div class="contact-items-wrapper animate-on-scroll fade-in-right">
        <div class="contact-item">
          <ion-icon name="logo-whatsapp"></ion-icon>
          <a href="https://wa.me/+6285761787971?text=Halo%20Maulana%2C%20saya%20tertarik%20untuk%20bekerjasama%20dalam%20pengembangan%20software.%20Berikut%20rincian%20softwarenya.%0A%0A1.%20Jenis%20software%3A%20%28website%2Fmobile%2Fhybrid%29%0A2.%20Target%20user%3A%20%0A3.%20Fungsi%20software%3A%20"
            target="_blank">
            <span class="bold-text">{{ getText('whatsappContact') }}</span>
          </a>
        </div>
        <div class="contact-item">
          <div class="quora-icon">Q</div>
          <a href="https://id.quora.com/profile/Argya" target="_blank">
            <span class="bold-text">{{ getText('quoraProfile') }}</span>
          </a>
        </div>
        <div class="contact-item">
          <ion-icon name="location-outline"></ion-icon>
          <span>Medan, Indonesia</span>
        </div>
      </div>
      <div class="footer-copyright">
        <p>&copy; 2025 Maulana Farras. All rights reserved.</p>
      </div>
    </div>
  </section>

  <!-- Award Modal -->
  <ion-modal [isOpen]="isAwardsModalOpen" (didDismiss)="closeAwardsModal()" class="awards-modal"
    [backdropDismiss]="true">
    <ng-template>
      <ion-content class="modal-content">
        <!-- Custom Header tanpa ion-header -->
        <div class="awards-modal-header">
          <h2 class="modal-title">
            {{ currentLanguage === 'id' ? 'Sertifikat Penghargaan' : 'Award Certificates' }}
          </h2>
          <button class="close-button" (click)="closeAwardsModal()">
            <ion-icon name="close"></ion-icon>
          </button>
        </div>
        
        <div class="awards-modal-content">
          <div class="awards-carousel">
            <div class="award-slide" *ngFor="let award of awards; let i = index">
              <div class="award-image-container">
                <img [src]="award.image" [alt]="getAwardText(award, 'title')" loading="lazy">
              </div>
              <div class="award-info">
                <h3>{{ getAwardText(award, 'title') }}</h3>
                <p>{{ getAwardText(award, 'description') }}</p>
              </div>
            </div>
          </div>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>

  <!-- Gallery Modal -->
  <ion-modal [isOpen]="isGalleryModalOpen" (didDismiss)="closeGalleryModal()" class="gallery-modal"
    [backdropDismiss]="false">
    <ng-template>
      <ion-content class="modal-content">
        <!-- Header dengan tombol close -->
        <div class="modal-header">
          <ion-button fill="clear" (click)="closeGalleryModal()" class="close-btn">
            <ion-icon name="close"></ion-icon>
          </ion-button>
        </div>

        <!-- Container gambar dengan zoom -->
        <div class="modal-image-container" (click)="handleContainerClick($event)" #imageContainer>
          <img [src]="currentGalleryImage" alt="Gallery image" class="full-size-image"
            [ngClass]="{'zoomed': isImageZoomed}" #zoomableImage>
        </div>

        <!-- Zoom controls (optional) -->
        <div class="zoom-controls" *ngIf="isImageZoomed">
          <ion-button fill="clear" (click)="zoomIn()" class="zoom-btn">
            <ion-icon name="add"></ion-icon>
          </ion-button>
          <span class="zoom-level">{{ (currentScale * 100).toFixed(0) }}%</span>
          <ion-button fill="clear" (click)="zoomOut()" class="zoom-btn">
            <ion-icon name="remove"></ion-icon>
          </ion-button>
          <ion-button fill="clear" (click)="resetZoom()" class="zoom-btn">
            <ion-icon name="refresh"></ion-icon>
          </ion-button>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>

</ion-content>